########################################################### 
# P. 59, 5.1 함수 
#-------------------------------------------------------------------------------------- 

date() 

x <- 2.71828182845       # x에 2.71828182845를 대입  

log(x)                   # x를 인수로 넣고 log(x)를 계산한다  

x <- 10                  # x에 10을 대입  

log(x^2, base=10)        # 밑을 지수로 하는 인수 base에 10을 지정해서 로그를 계산  

########################################################### 
# P. 60, 5.2 함수 정의의 기본 
#-------------------------------------------------------------------------------------- 

myfunc01 <- function( ) { 
#  
    return(1)              # 함수정의부분  

}                          # 

myfunc01                   # 함수를 실행한다. 

myfunc02 <- function(x) { 
#  
  return(x)                # 함수정의부분  

} 

myfunc02(2)                # 함수를 실행한다. 

 

myfunc01 <- function() { 

  return(1)                # 함수 정의 부분 

} 

 

mydouble <- function(x) { 
#  
  return(2*x)              # 함수정의부분  
} 
mydouble(5)                # 함수를 실행한다  



mytimes <- function(x, y) { 
  return(x*y)              # 함수정의부분   
} 
mytimes(3,4)               # 함수를 실행한다  

 

########################################################### 
# P. 63. 연습문제 (1) 
#-------------------------------------------------------------------------------------- 

########################################################### 
# P. 63. 연습문제 (1) 1. 
#-------------------------------------------------------------------------------------- 

mypower01 <- function(x) { 
  return(x^2) 
} 
mypower01(3) 


########################################################### 
# P. 63. 연습문제 (1) 2. 
#-------------------------------------------------------------------------------------- 

mypower02 <- function(x, y) { 
  return(x^y) 
} 

mypower02(3, 4) 


########################################################### 
# P. 63. 연습문제 (1) 3. 
#-------------------------------------------------------------------------------------- 

mysqrtlog <- function(x) { 
  y <- sqrt(x) 
  return( log(y) ) 
} 

mysqrtlog(2.7182818) 

########################################################### 
# P. 64, 5.3 프로그램의 기본 
#-------------------------------------------------------------------------------------- 

########################################################### 
# P. 64, 5.3.1 조건 분기 : if, else 
#-------------------------------------------------------------------------------------- 


myabs <- function(x) { 
  if (x < 0) { 
    return(-x) 
  } 
  else { 
    return(x) 
  } 
} 

myabs(-2) 
myabs(3) 

########################################################### 
# P. 66, 연습문제(2) 
#-------------------------------------------------------------------------------------- 

########################################################### 
# P. 66, 연습문제(2) 1. 
#-------------------------------------------------------------------------------------- 

myone <- function(x) { 
  if (x > 1) return(1)     # 인수 x가 1보다 클 때는 1  
} 

myone(2) 

myone(0)                   # 아무 일도 일어나지 않는다  

########################################################### 
# P. 66, 연습문제(2) 2. 
#-------------------------------------------------------------------------------------- 

myindex <- function(x) { 
  if (x > 1) return(1)     # 인수 x가 1보다 클 때는 1  
  else       return(0)     # 그렇지 않으면 0  
} 

myindex(0) 

########################################################### 
# P. 66, 연습문제(2) 3. 
#-------------------------------------------------------------------------------------- 

#-------------------------------------------------------------------------------------- 
# (방법 1) 
#-------------------------------------------------------------------------------------- 

mydistance1 <- function(a, b) { 
  if (a > b) { 
    return(a-b) 
  } else { 
    return(b-a) 
  } 
} 

#-------------------------------------------------------------------------------------- 
# (방법 2) 
#-------------------------------------------------------------------------------------- 

mydistance2 <- function(a, b) { 
  if (a > b) return(a-b) 
  else       return(b-a) 
} 

#-------------------------------------------------------------------------------------- 
# (방법 3) 
#-------------------------------------------------------------------------------------- 

mydistance3 <- function(a, b) { 
  if (a > b) c <- a-b 
  else       c <- b-a 
  return(c) 
} 

mydistance1(2,3) 
mydistance2(2,3) 
mydistance3(2,3) 

########################################################### 
# P. 66, 5.3.2 반복문 : for 
#-------------------------------------------------------------------------------------- 

myloop <- function() { 
  a <- 0 
  for (i in 1:5) { 
    a <- a+1 
  } 
  return(a) 
} 

myloop() 

#-------------------------------------------------------------------------------------- 

myloop2 <- function() { 
  a <- 0 
  for (i in 3:7) { 
    a <- a+1 
  } 
  return(a) 
} 

myloop2() 

#-------------------------------------------------------------------------------------- 

mysum <- function(n) { 
  i <- 0 
  for (j in 1:n) { 
    i <- i + j 
  } 
  return(i) 
} 

mysum(5) 

########################################################### 
# P. 69, 5.4 보충학습 
#-------------------------------------------------------------------------------------- 

myfunc <- function(x) return(2*x)   # 한 줄짜리 함수정의의 예  

#-------------------------------------------------------------------------------------- 

myabs  <- function(x) { 
  if (x < 0) return(-x)             # 한 줄짜리 조건분기의 예 
  else       return(x)              # 한 줄짜리 조건분기의 예 
} 

#-------------------------------------------------------------------------------------- 

myfunc <- function(x) { 
  2*x                               # return(2*x)과 같다  
} 

myfunc(5) 

#-------------------------------------------------------------------------------------- 

x <- 1 
if ((-2 < x) && (x < 2))            # (x가-2보다 크다) 그리고 (x가 2미만) 
if ((x >= 2) || (x <= -2))          # (x가 2 이상) 또는 (x가 -2 이하)  
 
#-------------------------------------------------------------------------------------- 

x <- c(1, 2, 3) 

((x >= c(1, 1, 1)) | (x < c(3,3,3))) 
((x >= c(1, 1, 1)) & (x < c(3,3,3))) 

#-------------------------------------------------------------------------------------- 

myfunc <- function(x) { 
  if (x < 0)                    return(-x) 
  else if ((0 <= x) && (x < 5)) return(5) 
  else                          return(x) 
} 

#-------------------------------------------------------------------------------------- 

x <- 1:4                            # 대입만해선 결과가 표시되지 않는다  
(x <- 1:4)                          # 괄호로 에워싸면 대입한 결과를 표시한다  

myfunc1 <- function(x) y <- 2*x 
myfunc1(1:4)                        # 아무것도 표시되지 않는다  
myfunc2 <- function(x) (y <- 2*x) 
myfunc2(1:4)                        # 괄호로 에워싸면 대입하고 표시된다 